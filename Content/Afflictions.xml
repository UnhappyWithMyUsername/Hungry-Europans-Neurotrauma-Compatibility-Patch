<?xml version="1.0" encoding="utf-8" ?>
<Override>
  <Afflictions>
    <!-- NAUSEA OVERRIDE TO REMOVE STUN TO ENABLE STAYING IN BED WHILE PUKING, CAUSE LOSS OF FOOD BUFF DURATION AND TRIGGER NEUROTRAUMA'S LUA HOOK -->
    <Affliction
      name="Nausea"
      identifier="nausea"
      description="The skin is clammy and the patient is vomiting periodically."
      type="nausea"
      causeofdeathdescription="Choked on vomit."
      selfcauseofdeathdescription="You have choked on your own vomit."
      limbspecific="false"
      maxstrength="100"
      affectmachines="false"
      treatmentthreshold="1000"
      karmachangeonapplied="-0.1"
      damageoverlayalpha="0"
      healcostmultiplier="2.25">
      <Description
        textidentifier="afflictiondescription.nausea"
        target="OtherCharacter"
        minstrength="0"
        maxstrength="100"/>
      <Description
        textidentifier="afflictiondescription.nausea.low"
        target="Self"
        minstrength="0"
        maxstrength="50"/>
      <Description
        textidentifier="afflictiondescription.nausea.high"
        target="Self"
        minstrength="50"
        maxstrength="100"/>
      <Effect minstrength="0" maxstrength="100" strengthchange="-1.0"
        minfacetint="230,255,230,0"
        maxfacetint="230,255,230,100"
        minbodytint="230,255,230,0"
        maxbodytint="230,255,230,50"
        minspeedmultiplier="1.0"
        maxspeedmultiplier="0.6">
      </Effect>
      <PeriodicEffect mininterval="12" maxinterval="16">
        <StatusEffect target="Character" SpeedMultiplier="0.0" setvalue="true" duration="1.7" />
        <StatusEffect target="Character" comparison="and">
          <Conditional ishuman="true" />
          <Conditional hasspecifiertag="male"/>
          <Sound file="Content/Sounds/HUMAN_chokeMale1.ogg" selectionmode="Random" />
          <Sound file="Content/Sounds/HUMAN_chokeMale2.ogg" />
          <Sound file="Content/Sounds/HUMAN_chokeMale3.ogg" />
        </StatusEffect>
        <StatusEffect target="Character" comparison="and">
          <Conditional ishuman="true" />
          <Conditional hasspecifiertag="female"/>
          <Sound file="Content/Sounds/HUMAN_chokeFemale1.ogg" selectionmode="Random" />
          <Sound file="Content/Sounds/HUMAN_chokeFemale2.ogg" />
          <Sound file="Content/Sounds/HUMAN_chokeFemale3.ogg" />
        </StatusEffect>
        <StatusEffect target="Character" duration="2">
          <TriggerAnimation Type="Walk" filename="Vomit" priority="10" ExpectedSpecies="Human" />
        </StatusEffect>
        <StatusEffect target="Character">
          <!--<Affliction identifier="stun" strength="0.1"/>-->
          <Affliction identifier="organdamage" strength="0.5"/>
          <LuaHook name="NT.vomit" />
        </StatusEffect>
        <StatusEffect target="Character" targetlimbs="Head" duration="1">
          <ParticleEmitter particle="vomitsplash" copyentityangle="true" anglemin="-10" anglemax="10" particlespersecond="50" velocitymin="50" velocitymax="200" scalemin="0.1" scalemax="0.2" />
          <Explosion range="0.0" structuredamage="0" itemdamage="0" force="0.0" severlimbsprobability="0.0" decal="vomitsplatter" decalsize="1.25" shockwave="false" underwaterbubble="false" />
          <Conditional HideFace="eq False" />
        </StatusEffect>
        <StatusEffect target="Character" duration="1" disabledeltatime="true">
          <ReduceAffliction identifier="he-stuffed" strength="10"/>
          <ReduceAffliction identifier="he-increasedswimmingspeedcrawler" strength="300"/>
          <ReduceAffliction identifier="he-damageresistancemoloch" strength="300"/>
          <ReduceAffliction identifier="he-damageresistancemudraptor" strength="300"/>
          <ReduceAffliction identifier="he-increasedwalkingspeedmudraptor" strength="300"/>
          <ReduceAffliction identifier="he-increasedmeleedamagehammerhead" strength="300"/>
          <ReduceAffliction identifier="he-pressureresistance" strength="300"/>
          <!--<ReduceAffliction identifier="AnyFoodAffliction" strength="100"/>-->
        </StatusEffect>
      </PeriodicEffect>
      <icon texture="Content/UI/CommandUIAtlas.png" sourcerect="896,896,128,128" origin="0,0"/>
    </Affliction>
    <!-- DRUNKNESS OVERRIDE -->
    <Affliction
      identifier="drunk"
      description="The smell of alcohol rises from them like a vapor, their speech slurs a little, and their eyes fail to focus."
      type="debuff"
      causeofdeathdescription="Alcohol poisoning"
      selfcauseofdeathdescription="You have died of alcohol poisoning."
      limbspecific="false"
      indicatorlimb="Torso"
      activationthreshold="0"
      hideiconafterdelay="true"
      showinhealthscannerthreshold="0"
      treatmentthreshold="1000"
      maxstrength="100"
      affectmachines="false"
      MedicalSkillGain="0.0">
      <Description
        textidentifier="afflictiondescription.drunk.self"
        target="Self"
        minstrength="0"
        maxstrength="80"/>
      <Description
        textidentifier="afflictiondescription.drunk.lethal.self"
        target="Self"
        minstrength="80"
        maxstrength="100"/>
      <Description
        textidentifier="afflictiondescription.drunk.low"
        target="OtherCharacter"
        minstrength="0"
        maxstrength="40"/>
      <Description
        textidentifier="afflictiondescription.drunk"
        target="OtherCharacter"
        minstrength="40"
        maxstrength="80"/>
      <Description
        textidentifier="afflictiondescription.drunk.lethal"
        target="OtherCharacter"
        minstrength="80"
        maxstrength="100"/>
      <!-- no effects at this point -->
      <Effect minstrength="0" maxstrength="20" strengthchange="-0.015">
        <StatusEffect target="Character" interval="1" disabledeltatime="true">
          <Affliction identifier="liverdamage" amount="0.01" /><!--prevent liver damage from healing-->
          <ReduceAffliction identifier="he-alcoholwithdrawal" strength="0.26" probability="0.25" />
        </StatusEffect>
      </Effect>
      <!-- Low level of drunkenness decreases vitality and speed slightly -->
      <Effect minstrength="20" maxstrength="40"
        minvitalitydecrease="0"
        maxvitalitydecrease="10"
        minscreendistort="0"
        maxscreendistort="0.2"
        minscreenblur="0.0"
        maxscreenblur="0.2"
        minradialdistort="0"
        maxradialdistort="0.2"
        strengthchange="-0.025"
        minfacetint="255,0,0,0"
        maxfacetint="255,0,0,50"
        minspeedmultiplier="1.0"
        maxspeedmultiplier="0.8"
        resistancefor="damage"
        minresistance="0.0"
        maxresistance="0.1">
        <StatusEffect target="Character" interval="1" disabledeltatime="true">
          <Affliction identifier="he-alcoholism" strength="0.005" probability="1.0" />
          <Affliction identifier="liverdamage" amount="0.01" /><!--prevent liver damage from healing-->
          <ReduceAffliction identifier="he-alcoholwithdrawal" strength="1" probability="0.25" />
          <ReduceAffliction identifier="embarrassment" strength="0.5" />
        </StatusEffect>
        <StatusEffect target="Character" interval="1" disabledeltatime="true" comparison="And">
          <Conditional he-alcoholism="lt 25" />
          <Conditional InWater="false" />
          <Affliction identifier="he-drunkinvertcontrols" strength="100" probability="0.05" />
        </StatusEffect>
        <!-- <StatusEffect target="Character" setvalue="true">
          <Conditional analgesia="lt 10" />
          <Affliction identifier="analgesia" amount="10" />
        </StatusEffect> -->
        <StatusEffect target="Character">
          <TriggerAnimation Type="Walk" filename="DrunkenWalk" priority="4" ExpectedSpecies="Human" />
          <TriggerAnimation Type="Run" filename="DrunkenRun" priority="4" ExpectedSpecies="Human" />
        </StatusEffect>
      </Effect>
      <!-- Heavier drunkenness decreases vitality and speed more -->
      <Effect minstrength="40" maxstrength="80"
        minvitalitydecrease="10"
        maxvitalitydecrease="30"
        minscreendistort="0.2"
        maxscreendistort="1.0"
        minscreenblur="0.2"
        maxscreenblur="1.0"
        minradialdistort="0.2"
        maxradialdistort="5.0"
        strengthchange="-0.025"
        dialogflag="DrunkMedium"
        minfacetint="255,0,0,50"
        maxfacetint="255,0,0,75"
        minspeedmultiplier="0.8"
        maxspeedmultiplier="0.7"
        resistancefor="damage"
        minresistance="0.1"
        maxresistance="0.5">
        <StatusEffect target="Character" interval="1" disabledeltatime="true">
          <Affliction identifier="he-alcoholism" strength="0.01" probability="1.0" />
          <Affliction identifier="liverdamage" amount="0.01" /><!--prevent liver damage from healing-->
          <ReduceAffliction identifier="he-alcoholwithdrawal" strength="2" probability="0.5" />
          <ReduceAffliction identifier="embarrassment" strength="1" />
        </StatusEffect>
        <StatusEffect target="Character" interval="1" disabledeltatime="true" comparison="And">
          <Conditional he-alcoholism="lt 50" />
          <Conditional InWater="false" />
          <Affliction identifier="he-drunkinvertcontrols" strength="100" probability="0.15" />
        </StatusEffect>
        <StatusEffect target="Character" interval="1" disabledeltatime="true">
          <Conditional he-alcoholism="lt 20" />
          <Affliction identifier="nausea" strength="10" probability="0.005" />
        </StatusEffect>
        <!-- <StatusEffect target="Character" setvalue="true">
          <Conditional analgesia="lt 50" />
          <Affliction identifier="analgesia" amount="50" />
        </StatusEffect> -->
        <StatusEffect target="Character">
          <TriggerAnimation Type="Walk" filename="DrunkenWalk" priority="4" ExpectedSpecies="Human" />
          <TriggerAnimation Type="Run" filename="DrunkenRun" priority="4" ExpectedSpecies="Human" />
        </StatusEffect>
      </Effect>
      <!-- After drinking enough the effect starts to get lethal -->
      <Effect minstrength="80" maxstrength="100"
        minvitalitydecrease="30"
        maxvitalitydecrease="99"
        minscreendistort="1.0"
        maxscreendistort="3.0"
        minscreenblur="1.0"
        maxscreenblur="3.0"
        minradialdistort="5.0"
        maxradialdistort="6.0"
        strengthchange="-0.05"
        dialogflag="DrunkHigh"
        minfacetint="255,0,0,75"
        maxfacetint="255,0,0,100"
        minspeedmultiplier="0.8"
        maxspeedmultiplier="0.5"
        resistancefor="damage"
        minresistance="0.5"
        maxresistance="1.0">
        <StatusEffect target="Character" interval="1" disabledeltatime="true">
          <Affliction identifier="he-alcoholism" strength="0.04" probability="1" />
          <Affliction identifier="organdamage" strength="0.5" probability="0.5" />
          <Affliction identifier="liverdamage" amount="0.01" /><!--prevent liver damage from healing-->
          <ReduceAffliction identifier="he-alcoholwithdrawal" strength="2" probability="1" />
          <ReduceAffliction identifier="embarrassment" strength="2" />
        </StatusEffect>
        <StatusEffect target="Character" interval="1" disabledeltatime="true" comparison="And">
          <Conditional he-alcoholism="lt 75" />
          <Conditional InWater="false" />
          <Affliction identifier="he-drunkinvertcontrols" strength="100" probability="0.5" />
        </StatusEffect>
        <StatusEffect target="Character" interval="1" disabledeltatime="true" multiplyafflictionsbymaxvitality="true">
          <Conditional he-alcoholism="lt 20" />
          <Affliction identifier="nausea" strength="20" probability="0.05" />
        </StatusEffect>
        <!-- <StatusEffect target="Character" setvalue="true">
          <Conditional analgesia="lt 100" />
          <Affliction identifier="analgesia" amount="100" />
        </StatusEffect> -->
        <StatusEffect target="Character">
          <TriggerAnimation Type="Walk" filename="DrunkenWalk" priority="4" ExpectedSpecies="Human" />
          <TriggerAnimation Type="Run" filename="DrunkenRun" priority="4" ExpectedSpecies="Human" />
        </StatusEffect>
      </Effect>
      <icon texture="Content/UI/MainIconsAtlas.png" sourcerect="384,640,128,128" color="170,194,147,255" origin="0,0"/>
    </Affliction>
    <Affliction
      name="Track Alcohol Intake"
      identifier="trackalcoholintake"
      description="Tracks how much alcohol was consumed within the last minute and applies liver damage if taken in too much."
      type="tracking"
      maxstrength="1204"
      limbspecific="false"
      indicatorlimb="Head"
      showiconthreshold="1000"
      showicontoothersthreshold="1000"
      showinhealthscannerthreshold="1000"
      healableinmedicalclinic="false">
      <Effect minstrength="0" maxstrength="60" strengthchange="-1" />
      <Effect minstrength="60" maxstrength="1204" strengthchange="-1">
        <StatusEffect target="Character" multiplyafflictionsbymaxvitality="true">
          <Conditional he-alcoholism="lt 20" />
          <Affliction identifier="liverdamage" amount="0.05" />
        </StatusEffect>
        <!-- deal less damage for alcoholics -->
        <StatusEffect target="Character" multiplyafflictionsbymaxvitality="true">
          <Conditional he-alcoholism="gte 20" />
          <Affliction identifier="liverdamage" amount="0.025" />
        </StatusEffect>
      </Effect>
      <icon texture="Content/UI/MainIconsAtlas.png" sourcerect="896,768,128,128" color="195,136,60,255" origin="0,0"/>
    </Affliction>
  </Afflictions>
</Override>